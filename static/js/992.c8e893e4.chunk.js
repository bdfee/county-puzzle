"use strict";(self.webpackChunkmap_us=self.webpackChunkmap_us||[]).push([[992],{992:function(t,e,r){r.r(e),r.d(e,{default:function(){return y}});var n=r(37),a=r(791),o=r(514),s=r(173),i=r(90),c=r(873),u=r(828),l=r(54),f=r(287),d=r(476),v=r(47),h=r(71),p=function(t){t.attr("transform","translate(0,0)").attr("stroke-width",.1).attr("stroke","lightgray").attr("fill","slategray").on(".drag",null).lower(),(0,i.Z)("#state-".concat(t.attr("state-id"))).lower()},m=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.attr("transform").match(/-?\d+(\.\d+)?/g),a=(0,n.Z)(r,2),o=a[0],s=a[1];if(Math.abs(+o)<.75&&Math.abs(+s)<.75){if(p(t),e)return[0,0]}else if(e)return[+o,+s]},Z=r(184),y=function(t){var e=t.countyGeometry,r=t.stateGeometry,p=t.baseTopology,y=t.stateFilter,g=t.handlers,b=t.setTooltipText,w=t.updateTranslations,x=(0,a.useRef)(),k=(0,a.useRef)(),j=(0,f.Z)().on("start",(function(){b(""),(0,i.Z)(this).raise(),(0,c.Z)(".county").attr("pointer-events","none")})).on("drag",(function(t){var e=t.dx,r=t.dy,n=(0,i.Z)(this).node().transform.baseVal[0].matrix,a=n.e,o=n.f;(0,i.Z)(this).attr("transform","translate(".concat(a+e,",").concat(o+r,")"))})).on("end",(function(t){var e=t.subject;w(e.id,m((0,i.Z)(this))),(0,c.Z)(".county").attr("pointer-events","all")})),C=(0,f.Z)().on("start",(function(){b(""),(0,i.Z)(this).raise(),(0,c.Z)(".county").attr("pointer-events","none")})).on("drag",(function(t){var e=t.dx,r=t.dy,n=(0,i.Z)(this).node().transform.baseVal[0].matrix,a=n.e,o=n.f,s=n.a,c=n.d,u=k.current.instance.transformState.scale,l=a+e/s/u,f=o+r/c/u;(0,i.Z)(this).attr("transform","translate(".concat(l,",").concat(f,")"))})).on("end",(function(t){var e=t.subject;w(e.id,m((0,i.Z)(this))),(0,c.Z)(".county").attr("pointer-events","all")}));return(0,a.useEffect)((function(){(0,i.Z)(x.current).selectAll("*").remove();var t=window.outerWidth,a=window.outerHeight,o={type:"GeometryCollection",geometries:e},c={type:"GeometryCollection",geometries:r},f=(0,u.Z)().translate([t/2,a/2]).scale(900),Z=(0,l.Z)().projection(f),y=(0,i.Z)(x.current).append("svg").attr("width",t).attr("height",a).attr("viewBox","0 0 ".concat(t," ").concat(a));y.selectAll(".state").data((0,d.Z)(p,c).features).enter().append("path").attr("class","state").attr("d",Z).attr("fill",(function(t){var e=t.id;return v.L[e].color})).attr("id",(function(t){var e=t.id;return"state-".concat(e)}));var b=y.selectAll(".county").data((0,d.Z)(p,o).features).enter().append("path").attr("class","county").attr("d",Z).attr("stroke",(function(t){var e=t.id;return v.L[(0,h.f)(e)].color})).attr("stroke-width",.15).attr("fill","lightgray").attr("id",(function(t){var e=t.id;return"county-".concat(e)})).attr("state-id",(function(t){var e=t.id;return"".concat((0,h.f)(e))})).attr("data-name",(function(t){var e=t.properties;return"".concat(e.name)})).attr("is-hidden",!1).attr("transform",(function(t){var e=(0,n.Z)(t.properties.transpose,2),r=e[0],a=e[1];return"translate(".concat(r,", ").concat(a,")")})).on("mouseover",(function(t,e){var r=t.pageX,n=t.pageY,a=e.properties;"false"===(0,i.Z)(this).attr("is-hidden")&&g.mouseOver(r,n,a)})).on("mousemove",(function(t){var e=t.pageX,r=t.pageY;return g.mouseMove(e,r)})).on("mouseout",(function(){return g.mouseOut()})),w="Chrome"===s.KC?j:C;b.call(w).each((function(){m((0,i.Z)(this),!1)}))}),[e]),(0,a.useEffect)((function(){!function(t){(0,c.Z)(".county, .state").style("visibility","visible").attr("pointer-events","all").attr("is-hidden",!1),t&&(0,c.Z)(".county, .state").filter((function(e){var r=e.id;return!t.includes((0,h.f)(r))})).style("visibility","hidden").attr("pointer-events","none").attr("is-hidden",!0)}(y),function(t,e){if(e){var r=(0,i.Z)("#state-".concat(e)).node();t.current.zoomToElement(r,2,500,"easeOut")}else t.current.resetTransform(500,"easeOut")}(k,y)}),[y,e]),(0,Z.jsx)(o.d$,{ref:k,children:(0,Z.jsx)(o.Uv,{children:(0,Z.jsx)("div",{ref:x,className:"pieces"})})})}}}]);
//# sourceMappingURL=992.c8e893e4.chunk.js.map